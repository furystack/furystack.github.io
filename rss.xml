<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Ghost's Blog]]></title><description><![CDATA[Full-stack framework]]></description><link>https://furystack.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 16 Aug 2022 19:36:25 GMT</lastBuildDate><item><title><![CDATA[Showcase-time]]></title><description><![CDATA[Fragments üî™ Using fragments in React is not a new concept so I‚Äôve implemented this also in Shades. The concept is the same - you can avoid‚Ä¶]]></description><link>https://furystack.github.io/010-showcase-app/</link><guid isPermaLink="false">https://furystack.github.io/010-showcase-app/</guid><pubDate>Sun, 14 Aug 2022 18:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Fragments üî™&lt;/h2&gt;
&lt;p&gt;Using &lt;a href=&quot;https://reactjs.org/docs/fragments.html&quot;&gt;fragments&lt;/a&gt; in React is not a new concept so I‚Äôve implemented this also in Shades. The concept is the same - you can avoid unneccessary DOM nesting with them. The syntax is also the same - you can check out some &lt;a href=&quot;https://github.com/furystack/furystack/blob/e6edd24c9a196f56ba5b3b2dd65f062c8d68cdd5/packages/shades-common-components/src/components/data-grid/body.tsx#L52&quot;&gt;common component code&lt;/a&gt; to get the idea.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HelloWorld &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Shades&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    shadowDomName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;shades-hello-world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;World&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Compare component states üîé&lt;/h2&gt;
&lt;p&gt;Now the &lt;a href=&quot;https://github.com/furystack/furystack/blob/e6edd24c9a196f56ba5b3b2dd65f062c8d68cdd5/packages/shades/src/shade.ts#L41&quot;&gt;state comparison API&lt;/a&gt; has been opened up - you can optimize the performance of your components to avoid unneccessary re-renders.&lt;/p&gt;
&lt;h2&gt;DataGrid upgrades&lt;/h2&gt;
&lt;p&gt;One of the most powerful component in Shades is the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;DataGrid /&gt;&lt;/code&gt;. It can be easily extended with custom view components, ordering, filtering, etc‚Ä¶ but I‚Äôve implemented more goodies recently.&lt;/p&gt;
&lt;h3&gt;Focused item üëì&lt;/h3&gt;
&lt;p&gt;Now you can focus on an item (at row level) by just simply clicking on it. The Grid and the &lt;code class=&quot;language-text&quot;&gt;CollectionService&lt;/code&gt; will update an observable (you can also use the same service at cell level). Only one item &lt;em&gt;can have&lt;/em&gt; focus at the same time.&lt;/p&gt;
&lt;h3&gt;Selection ‚òëÔ∏è&lt;/h3&gt;
&lt;p&gt;The DataGrid (and the underlying &lt;code class=&quot;language-text&quot;&gt;CollectionService&lt;/code&gt;) now have an info about what &lt;em&gt;row&lt;/em&gt; or &lt;em&gt;rows&lt;/em&gt; are currently selected. Row selection can be used e.g. to trigger a bulk operation on items (e.g. bulk delete some entries)&lt;/p&gt;
&lt;h3&gt;Keyboard shortcuts and mouse getsures ‚å®Ô∏è&lt;/h3&gt;
&lt;p&gt;Usability has been also improved with the followings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Up/down&lt;/strong&gt; keys moves the focus up/down&lt;/li&gt;
&lt;li&gt;The focused item will be scrolled into the view, if neccessary&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Space&lt;/strong&gt; toggles the &lt;em&gt;selection&lt;/em&gt; of the current item&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Insert&lt;/strong&gt; toggles the selection of the current item and moves the focus down&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;+ / -&lt;/strong&gt; keys selects / deselects all items&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;*&lt;/strong&gt; key inverts the selection&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CTRL + Mouse click&lt;/strong&gt; toggles the selection of the clicked element and also updates the focus&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SHIFT + Mouse click&lt;/strong&gt; &lt;em&gt;selects&lt;/em&gt; all element between the old focused one and the &lt;em&gt;clicked&lt;/em&gt; one, also updates the focus&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Some thoughts on the performance ‚ö°&lt;/h3&gt;
&lt;p&gt;Performance is a &lt;em&gt;key concept&lt;/em&gt; when working with grids. The underlying CollectionService and its observables serve the reson to avoid re-rendering the whole grid when something (e.g. a selection) changes.&lt;/p&gt;
&lt;h2&gt;And finally, The Showcase App üè™&lt;/h2&gt;
&lt;p&gt;I‚Äôve started to work on a ‚ÄúShowcase App‚Äù with Shades in the FuryStack monorepo. I wanted to try out some controls and mechanisms inside the monorepo and also speed up component development - so I‚Äôve created a new package called &lt;code class=&quot;language-text&quot;&gt;@furystack/shades-showcase-app&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It‚Äôs also deployed via Netlify so you can check it out right now ;)&lt;/p&gt;
&lt;p&gt;Pls visit &lt;a href=&quot;https://shades-showcase.netlify.app/&quot;&gt;https://shades-showcase.netlify.app/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It contains the followings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Demo for a Grid with an in-memory random collection with the new features ‚ú®&lt;/li&gt;
&lt;li&gt;Demo for a Shades wrapper of my favorite joystick component called &lt;a href=&quot;https://yoannmoi.net/nipplejs/&quot;&gt;NippleJS&lt;/a&gt; üïπÔ∏è&lt;/li&gt;
&lt;li&gt;Demo for my favourite Semi-IDE in Shades called Monaco Editor üìù&lt;/li&gt;
&lt;li&gt;Demo page for Inputs (I want to extend this in a near future)&lt;/li&gt;
&lt;li&gt;Demo page for Buttons&lt;/li&gt;
&lt;li&gt;A simple lorem ipsum welcome page üòÅ&lt;/li&gt;
&lt;li&gt;And last but not least, a light / dark theme switch üòâ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Regarding the Showcase App, I‚Äôve also experimented with some interesting new tools (esbuild, playwright), I want to write about in the near future. Cheeers :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A little bit of Inject refactor]]></title><description><![CDATA[Why As you can see, in FuryStack I‚Äôve tried to take some steps to use only standardized APIs to maintain the supportability. As I started to‚Ä¶]]></description><link>https://furystack.github.io/009-inject-refactor/</link><guid isPermaLink="false">https://furystack.github.io/009-inject-refactor/</guid><pubDate>Fri, 12 Aug 2022 18:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Why&lt;/h2&gt;
&lt;p&gt;As you can see, in FuryStack I‚Äôve tried to take some steps to use only standardized APIs to maintain the supportability. As I started to work with new tools and framework, I‚Äôve found some bottlenecks. The first big bad was the hacky &lt;a href=&quot;/008-byebye-extension-methods/&quot;&gt;extension method support&lt;/a&gt; that I‚Äôve introduced in the beginning of the project, but I‚Äôve found an another black sheep in the heart of the Typescript ecosystem - Decorator support.&lt;/p&gt;
&lt;p&gt;In short: ‚Äù&lt;a href=&quot;https://github.com/evanw/esbuild/issues/257#issuecomment-658053616&quot;&gt;The emitDecoratorMetadata flag is intentionally not supported.&lt;/a&gt;‚Äù&lt;/p&gt;
&lt;h2&gt;Emm ok, what now? üòï&lt;/h2&gt;
&lt;p&gt;We had a feature in &lt;code class=&quot;language-text&quot;&gt;Inject&lt;/code&gt; that &lt;em&gt;was&lt;/em&gt; build on a top of emitting type data and that was &lt;em&gt;constructor injection&lt;/em&gt;. The syntax was like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; injector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service2&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service3&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That‚Äôs clear that we can‚Äôt use this if we loose type data at runtime, so the idea was to pass down the constructor object at runtime - and try to maintain the simplicity of the old API.&lt;/p&gt;
&lt;h2&gt;The new &lt;code class=&quot;language-text&quot;&gt;Injected()&lt;/code&gt; properties ‚ú®&lt;/h2&gt;
&lt;p&gt;‚Ä¶so a new property-level decorator called &lt;code class=&quot;language-text&quot;&gt;Injected()&lt;/code&gt; was born.
The very same behavior with the new API looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; injector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injected&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service2&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service2

  &lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injected&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service2&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service3
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Some pros üëå&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The consrtuctor instance is passed down as a variable - without emitting non-standard metadata and other black magic&lt;/li&gt;
&lt;li&gt;The main behavior (lifetime, recursive resolution, etc‚Ä¶) remains the same&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;‚Ä¶and a few drawbacks üòø&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Properties will be injected &lt;strong&gt;after&lt;/strong&gt; constructing the instance - it means that you cannot use them in the constructor&lt;/li&gt;
&lt;li&gt;A breaking change - again‚Ä¶&lt;/li&gt;
&lt;li&gt;See the &lt;code class=&quot;language-text&quot;&gt;!&lt;/code&gt; operator? Yeah, it‚Äôs a kind of ‚Äúshortcut‚Äù for now‚Ä¶&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Bye-bye extension methods]]></title><description><![CDATA[The Heritage from C# It‚Äôs not a big sectet that one of the main inspiration for FuryStack is the .NET (legacy and Core) stack where‚Ä¶]]></description><link>https://furystack.github.io/008-byebye-extension-methods/</link><guid isPermaLink="false">https://furystack.github.io/008-byebye-extension-methods/</guid><pubDate>Sat, 30 Apr 2022 18:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;The Heritage from C#&lt;/h2&gt;
&lt;p&gt;It‚Äôs not a big sectet that one of the main inspiration for FuryStack is the .NET (legacy and Core) stack where extension methods are quite common. The same can achieved in the JS world where everything is possible, every prototype can be hacked and it can be also type-safe.&lt;/p&gt;
&lt;h2&gt;The Problem&lt;/h2&gt;
&lt;p&gt;The main problem in short that extending another module is &lt;em&gt;not officially supported&lt;/em&gt; by Typescript - however the type system can be hacked like &lt;em&gt;it was&lt;/em&gt; in FuryStack and as you can see in the following example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Injector &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@furystack/inject/dist/injector&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@furystack/inject/dist/injector&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     *  returns the current authorization status from the identity context
     */&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;isAuthorized&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;roles&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

Injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;isAuthorized&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;roles&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;IdentityContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthorized&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;roles&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/** ...and the usage */&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../path-to-my-extension&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthorized&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;admin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;‚Ä¶well, it works but I‚Äôve ran into unexpected issues with conflicting import declarations and overrides. The problems appeared random, but somewhat based on the running context (ts-node, jest, browser) and it started to block dependency upgrades‚Ä¶&lt;/p&gt;
&lt;h2&gt;How it works now&lt;/h2&gt;
&lt;p&gt;The extensions has been replaced by &lt;em&gt;helpers&lt;/em&gt;, as you can see in the following example. These helpers are simple shortcuts - you should usually pass the injector (or the related manager class) to them as a parameter.
The imports are clear, as well as the execution path and the types.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isAuthorized &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@furystack/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isAuthorized&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;admin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For more details, you can check out &lt;a href=&quot;https://github.com/furystack/furystack/commit/ba32902dba6bfbf8db4b1cc8a00861151999b71a#diff-45afbc003c3ca2cf0dac19a66d7aed4c4526c3df2ca00942e814970983e4ce84&quot;&gt;this&lt;/a&gt; commit.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Data validation with REST and json-schemas]]></title><description><![CDATA[Prerequisites Read the previous article about type-safe REST APIs, if you haven‚Äôt yet. It will give a huge boost on productivity. Seriously‚Ä¶]]></description><link>https://furystack.github.io/007-data-validation-with-rest-and-json-schema/</link><guid isPermaLink="false">https://furystack.github.io/007-data-validation-with-rest-and-json-schema/</guid><pubDate>Wed, 23 Jun 2021 13:58:20 GMT</pubDate><content:encoded>&lt;h3&gt;Prerequisites&lt;/h3&gt;
&lt;p&gt;Read the &lt;a href=&quot;/006-getting-started-with-rest&quot;&gt;previous article&lt;/a&gt; about type-safe REST APIs, if you haven‚Äôt yet. It will give a huge boost on productivity. Seriously‚Ä¶ go go go‚Ä¶
So, glad you‚Äôve back. Now let‚Äôs get down to business‚Ä¶&lt;/p&gt;
&lt;h3&gt;Some sad facts about Typescript interfaces - and a possible solution&lt;/h3&gt;
&lt;p&gt;Let‚Äôs face it - you have a well-defined REST API in a Typescript interface but you cannot use Typescript interfaces realtime as they &lt;em&gt;does not exists realtime&lt;/em&gt; üòø
But there‚Äôs a solution that can be easily adopted - JSON Schemas&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 507px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ce4007557d939fec78dc3b32e598ef81/e988a/007-impossible.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAYHCAIF/8QAFwEAAwEAAAAAAAAAAAAAAAAAAgMEBf/aAAwDAQACEAMQAAABsPmKesQ6TQc/Iw9SxhUXUETf/8QAGxABAQACAwEAAAAAAAAAAAAABgUDBwIEFRT/2gAIAQEAAQUCTMJPDLsjY8X5zr4d3oSjyBs9cX1zNiE9cja5m72KanKmk+jVN7CZzoH/xAAiEQACAgEDBAMAAAAAAAAAAAABAgMRIQAEEhMiMUEyUmH/2gAIAQMBAT8BlZGEG32IJliWPpNOq3JK0lt1QoKOrMU4qT2gsrcxnXT32LEJNCzzkFnFmqxZ1H4U+6bPv5DRd7Pe3n7H81//xAAiEQACAgEEAQUAAAAAAAAAAAABAwIREgAEISJRBRMxMnH/2gAIAQIBAT8BIdm9jMBBpl7o7XBQXjEp4E1zHybzvgxo6LN9fRWwxvrlNwNcVYCzX5Z16e902xE3NmDn9mSl58nW53G4juHCL3ABswAGzAAEuAAJcDX/xAAlEAACAgICAQMFAQAAAAAAAAACAwEEBRESEwAGFCEVIiMxMkH/2gAIAQEABj8CovwSffV0RbTkYoyxi1NQKrQzYIRIZYhSiAV/2gjj8c8i44KhhKyEtuurZO40X+0W/HJrvH2gEj8hwVkqrnxy621lSqROCKPMTcs3MdRtPpKmzVKTaS3r2luzDcT2EvtD9F1mHL7tzND0rk/QdihTu2bTFU3+qb507u7guY/H369qwNuSfZkrFa8NRwTIx1vAtL9HOPAVXFlr17HYtQ5HLqVRKpWu2MgybDMiCXwHtloOpyTPY6Z5B068wWYx2HGvTy2NRkFVzvZhso9xsjT2HkIkxWzmIlqIIdFAxE68X9fzWVyZYuN0zsvWZri2xZPHfT/JEpZa1GpGP8+PKqb2RydpFgrVnpa5HWhrOfKa0DWGVRy2zhEyMMki18z5iKFPPWU06dFNeqgU0+KELjQKCZrcpGP3syIvmfu1qI//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMUH/2gAIAQEAAT8hQ5UIVCdoqAXKbiylqsGLZYpFEGq5UhWj4TgaO7LsiIof6vP1DiCEoNlDfcfGLXlBRh4CpWWd48UKnI4I9LsOqxOsDYBSc6wBAhgwOyKOywf/2gAMAwEAAgADAAAAEETYfv/EABkRAQEAAwEAAAAAAAAAAAAAAAERACExUf/aAAgBAwEBPxCJ1YADqjhjZEEeBCaUIgAoGjQa41YqqJqgFXbAJfDzDkCDABAugXmf/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhMQD/2gAIAQIBAT8QS0skkCoOqryIy8FCiqV3QWkNEuVldJAApmKOMhLyeUb46QAAAAAAABz3/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARECH/2gAIAQEAAT8QRbiuiu8JF9kQFuaPqUAuCSHje54uIaqtVwAPFMn3Pw/0jA4w5XEi5nuxSBlSSdQAT+Q66AC1dhoGlb6aIjkq+EMekDWD+NNqhKMUQin/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;the relatime interface usage&quot;
        title=&quot;the relatime interface usage&quot;
        src=&quot;/static/ce4007557d939fec78dc3b32e598ef81/e988a/007-impossible.jpg&quot;
        srcset=&quot;/static/ce4007557d939fec78dc3b32e598ef81/953fe/007-impossible.jpg 500w,
/static/ce4007557d939fec78dc3b32e598ef81/e988a/007-impossible.jpg 507w&quot;
        sizes=&quot;(max-width: 507px) 100vw, 507px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So the plan is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Design the API&lt;/li&gt;
&lt;li&gt;Create a JSON Schema from the API definitions&lt;/li&gt;
&lt;li&gt;Wire some validation logic on the Backend&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Generating the Schema&lt;/h3&gt;
&lt;p&gt;FuryStack offers some help when it comes to defining / designing the API interface - as mentioned in the last article. There is a nice tool that will help us create the JSON Schema - &lt;a href=&quot;https://github.com/vega/ts-json-schema-generator&quot;&gt;ts-json-schema-generator&lt;/a&gt;
So if we have an interface ready, we can generate the JSON schema with a simple command from an NPM script:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;yarn ts-json-schema-generator -f tsconfig.json --no-type-check -p common/src/path/to/my/api.schema.ts -o common/src/path/to/my/api.schema.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once it is done, you can access / re-export it in your &lt;code class=&quot;language-text&quot;&gt;common&lt;/code&gt; package - maybe you have to enable &lt;code class=&quot;language-text&quot;&gt;resolveJsonModule&lt;/code&gt; in your tsconfig.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; mySchema &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./path/to/my/api.schema.json&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; mySchema &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Validation in the Service&lt;/h3&gt;
&lt;p&gt;Once you will be able to import your schema, you can simply use the &lt;code class=&quot;language-text&quot;&gt;Validate()&lt;/code&gt; method in REST Api. Let‚Äôs take for example the endpoint from the previous post.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; mySchema &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;common&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Validate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@fuystack/rest-service&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; customHeadersEndpoint&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; RequestAction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CustomHeaders&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Validate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    schema&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; mySchema
    schemaName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;CustomHeaders&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; headers &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;JsonResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;The Gotchas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;All input data (query, headers, url, body) will be validated - &lt;strong&gt;in depth&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;You can define nested types, string literals, optional parameters, type intersections, nearly everything that Typescript can offer. You can throw errors on additional parameters as well.&lt;/li&gt;
&lt;li&gt;You will automatically get nice 400 responses with detailed error messages if you miss something&lt;/li&gt;
&lt;li&gt;Schema can be re-generated as your API changes&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[REST in peace]]></title><description><![CDATA[The problem ü§∑‚Äç‚ôÇÔ∏è The old-fashioned approach is to decouple nearly everything, but (as a fullstack dev) when speaking about the relation‚Ä¶]]></description><link>https://furystack.github.io/006-getting-started-with-rest/</link><guid isPermaLink="false">https://furystack.github.io/006-getting-started-with-rest/</guid><pubDate>Wed, 23 Jun 2021 12:58:20 GMT</pubDate><content:encoded>&lt;h3&gt;The problem ü§∑‚Äç‚ôÇÔ∏è&lt;/h3&gt;
&lt;p&gt;The old-fashioned approach is to decouple &lt;em&gt;nearly everything&lt;/em&gt;, but (as a fullstack dev) when speaking about the relation between REST API‚Äôs, there is a problem:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c7559848b7462aa174e52e6cd10fda3e/953fe/006-joker.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 104.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAYHCAn/xAAYAQACAwAAAAAAAAAAAAAAAAAEBQECA//aAAwDAQACEAMQAAAB58WxhC0IvAEHbC9MLVBGeRAiZf/EABsQAQADAQADAAAAAAAAAAAAAAUDBAYBAgcR/9oACAEBAAEFAidvBnYY/aNjhd5kS1ah+qTyJIJBcPml8MjdzoVJh8g7ujpB2VP/xAAiEQACAQMEAgMAAAAAAAAAAAABAgMREiEABBMiMUEyUWH/2gAIAQMBAT8BjIBcW3mRW4CbQ9VCOx47lNbSLfI7C24gqeLceRC5ByKITg5GRg41tFDxzuwq0cBZPVpLxx1oMfB2Axg9h2AI20EbQRswJJXPd/v8anrX/8QAIREAAgEEAgIDAAAAAAAAAAAAAQIDERIhMQAEE0EiYbH/2gAIAQIBAT8BmEdwZBKkEbIJKm4gmqJV/HbYZR8hghFapFK88sAx5UxjLqDUY0c8lw8YGmcBvsW3b3sD81jnc7EqdmZVYABsCxD6HsqTz//EACYQAAICAQMEAgIDAAAAAAAAAAIDAQQSBRETAAYUIRUjIkExMjP/2gAIAQEABj8Csop9s0AXfJJYWtRbdk7SlhH0w5EeMt/8Prq+o4II9SA7+TY7cocrbW1Rf5CiZgDGwxpHVhstWZYwa5LNhELtjV+TrDO2Rl7mudYP57Up5XucxrGbcYwOUn/WPXrf99JbZKAmSOYkIiAHaci+nf3G+IxEetvX66v1SZp4hpkctepFafJxv2OSy9DuUvHWvw15kUx7dxjE8pdLameUWBvOIlOBwRAQTMRMTtjvvEzvExPXx1ft47EYaDfY6+/RdQMrFqmltjCbvbFhqkTZI2Lrw+ViqRQ6LGPKVe3U7fRnZs2cwsJ7YaqPOKqo4Fa+0URxhx8i1FktTJIkirNvI23Wq6rS8wF27KV6rUGv5lmOawdWvT0ajWp1iIvqqKTiqI/0OZ36/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/IbQzkxCUDUABW94PReezFkJCJTCvjM5sxME44NYUREiISHpRTnqsfVLrKYCnum46GxQ6R2IUgK7sFEybxo/oO1B4dCTXemlpv7Pqhq+v6I0GKnVz/9oADAMBAAIAAwAAABA/7wL/xAAZEQEBAAMBAAAAAAAAAAAAAAABEQAhMUH/2gAIAQMBAT8Q9QigTOZCVomOlWCBA0BAWiGj6+8KwgOFYSaUCsQxgaaKjURwBoaANZ//xAAaEQEBAQEBAQEAAAAAAAAAAAABESEAQTFR/9oACAECAQE/EBGsMC/0YpIaSDlCjUoBJQoBHND3zet0lMVaZVYWJdCqlQ7HwWjUldVVa/r3/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAECH/2gAIAQEAAT8QfBHN4Xv83BSnQjw2lO2aCWdPU7+i8o2WZMNMHbMoLiegNoNsasj2zfkCKtbNQAigS4EwCuVIVPw5PzECKnk2AuoseUNp8vmE8QmQsxB//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Does clients depends on APIs?&quot;
        title=&quot;Does clients depends on APIs?&quot;
        src=&quot;/static/c7559848b7462aa174e52e6cd10fda3e/953fe/006-joker.jpg&quot;
        srcset=&quot;/static/c7559848b7462aa174e52e6cd10fda3e/953fe/006-joker.jpg 500w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, let‚Äôs dig deep into the good old S.O.L.I.D. principles, until the end of it, where &lt;strong&gt;D&lt;/strong&gt; stands for &lt;strong&gt;dependency inversion&lt;/strong&gt;‚Ä¶ khm:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Entities must depend on abstractions, not on concretions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, again, let‚Äôs get this straight. The happy path should be:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Design an abstraction (interface) for the API&lt;/li&gt;
&lt;li&gt;Implement your API&lt;/li&gt;
&lt;li&gt;The client should depend on the abstraction, not the actual implementation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In FuryStack, there is 3 type of REST packages which are meant to solve the scenarios. In order:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@furystack/rest&lt;/code&gt; for the API design&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@furystack/rest-service&lt;/code&gt; for the implementation&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;@furystack/rest-client-fetch&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;@furystack/rest-client-got&lt;/code&gt; for consuming the API&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Prerequisites üëà&lt;/h3&gt;
&lt;p&gt;To be able to use this ideal path, you have to share the abstraction between the service and the consumer / frontend.
The preferred way can be some kind of a Monorepo (see the Boilerplate app‚Äôs approacth with Yarn Workspaces).
If you can‚Äôt do that, you can still extract the definition to e.g. an NPM package.&lt;/p&gt;
&lt;h3&gt;Step One - Design your API first. üìê&lt;/h3&gt;
&lt;p&gt;If you want to achieve the first step, your API should have an abstraction. An interface. And that should be a‚Ä¶ (drumroll ü•Å )‚Ä¶ &lt;strong&gt;Typescript Interface&lt;/strong&gt; üéâ&lt;/p&gt;
&lt;p&gt;The following example can give you the idea how you should implement the API&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  DeleteEndpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  GetCollectionEndpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  GetEntityEndpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  PatchEndpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  PostEndpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  RestApi&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@furystack/rest&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Mock&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomQuery&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  query&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  result&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomUrl&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  result&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomHeaders&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  headers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  result&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomBody&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  body&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  result&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApi&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/custom-query&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CustomQuery
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/custom-url/:id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CustomUrl
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/custom-headers&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CustomHeaders
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/mock&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; GetCollectionEndpoint&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MockEntity&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/mock/:id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; GetEntityEndpoint&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MockEntity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/custom-body&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CustomBody
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/mock&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PostEndpoint&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Mock&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;PATCH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/mock/:id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PatchEndpoint&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Mock&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;DELETE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string-property property&quot;&gt;&apos;/mock/:id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; DeleteEndpoint&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Mock&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So the interface is build on two levels. The first level defines the HTTP method.&lt;/p&gt;
&lt;p&gt;The second level is actually a &lt;em&gt;key-value pair&lt;/em&gt;. The key will be the URL endpoint, the second one is the type in a predefined format.
The custom types can contain the following fields:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;result&lt;/code&gt;: This will be the type of the response on success&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;url&lt;/code&gt;: An URL parameter object. This should be also part of the url (e.g. if you define the &lt;code class=&quot;language-text&quot;&gt;{id: string}&lt;/code&gt; as type, the &lt;code class=&quot;language-text&quot;&gt;/:id&lt;/code&gt; parameter)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;headers&lt;/code&gt;: The required explicit headers&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;query&lt;/code&gt;: The query string parameters&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;: The POST Body parameters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also some entity-related shortcut types in the example, e.g. &lt;code class=&quot;language-text&quot;&gt;PatchEndpoint&amp;lt;T, TKey&gt;&lt;/code&gt; stands for &lt;code class=&quot;language-text&quot;&gt;{ body: Partial&amp;lt;T&gt;, url: { id: T[TPrimaryKey] }, result: undefined}&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Step Two - Implement üõ†&lt;/h3&gt;
&lt;p&gt;OK, we‚Äôve got a well-defined REST API with all the payloads, bodys, headers, bells and whistles. Now we can implement it, so let‚Äôs move to the &lt;em&gt;service-side&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;So, an example API implementation overview looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
i&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useRestService&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MyApi&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  port&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;// The port that the app will use&lt;/span&gt;
  root&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/api/v1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// The root path of your API&lt;/span&gt;
  api&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string-property property&quot;&gt;&quot;/custom-headers&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; customHeadersEndpoint
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*(...and you should implement all endpoints here if you want to compile it. Good luck ;) )*/&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, the basic structure is similar to the interface, you should use the &lt;code class=&quot;language-text&quot;&gt;.useRestService&amp;lt;T&gt;()&lt;/code&gt; injector extension with some basic options like the port or root path.
The &lt;code class=&quot;language-text&quot;&gt;api&lt;/code&gt; should follow the same structure as the definition, but the &lt;code class=&quot;language-text&quot;&gt;customHeadersEndpoint&lt;/code&gt; should implement the endpoint &lt;code class=&quot;language-text&quot;&gt;CustomHeaders&lt;/code&gt;. So let‚Äôs take a look at this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; customHeadersEndpoint&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; RequestAction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CustomHeaders&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; headers &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// The type is inferred from CustomHeaders: { foo: string; bar: number; baz: boolean }&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;JsonResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// This should also match the `result` type&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The magical part is covered by the &lt;code class=&quot;language-text&quot;&gt;RequestAction&amp;lt;CustomHeaders&gt;&lt;/code&gt;. This generic type tells that this&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Should be an async method&lt;/li&gt;
&lt;li&gt;Will recieve headers with a specified type&lt;/li&gt;
&lt;li&gt;Should return the JsonResult with a specified type&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The other properties will be also inferred:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;if there is &lt;code class=&quot;language-text&quot;&gt;{ url: T }&lt;/code&gt; defined on the interface, you will have &lt;code class=&quot;language-text&quot;&gt;getUrlParams: ()=&gt; T&lt;/code&gt; in the parameter object&lt;/li&gt;
&lt;li&gt;if there is &lt;code class=&quot;language-text&quot;&gt;{ body: T }&lt;/code&gt; defined, you will get &lt;code class=&quot;language-text&quot;&gt;getBody: () =&gt; Promise&amp;lt;T&gt;&lt;/code&gt; in the parameter object&lt;/li&gt;
&lt;li&gt;if there is &lt;code class=&quot;language-text&quot;&gt;{ query: T }&lt;/code&gt; defined, you will get &lt;code class=&quot;language-text&quot;&gt;getQuery: () =&gt; T&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Consume your interface, not your API üçΩ&lt;/h3&gt;
&lt;p&gt;OK, we have an interface and an implementation. The interface is shared between the service and the client. So let‚Äôs take a look how the client can consume the API.
Let‚Äôs take a simple approacth with the native &lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt; implementation (there‚Äôs also a &lt;code class=&quot;language-text&quot;&gt;got&lt;/code&gt;-based client implementation that can be used in node-based clients as well)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createClient &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@furystack/rest-client-fetch&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; callMyApi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;createClient&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MyApi&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  endpointUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;http://localhost:1234/api/v1&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callMyApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  method&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;GET&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// This should be the first property in order to work with Intellisense&lt;/span&gt;
  action&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/custom-headers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// After selecting the action from the list, other required properties will be inferred and required&lt;/span&gt;
  headers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    foo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;asd&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    bar&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    baz&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, step by step:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Select a method&lt;/li&gt;
&lt;li&gt;All available actions will be offered by IntelliSense&lt;/li&gt;
&lt;li&gt;Once you‚Äôve selected an action, the full payload will be inferred. You will get type checks in header, body, query, url, etc‚Ä¶ parameters. The response type will be also there for you üíö&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;The main gotcha: Let‚Äôs break all the thingzzz!!!!4!!!üí•&lt;/h3&gt;
&lt;p&gt;There‚Äôs an ancient refactoring technique in the &lt;em&gt;type-safe dreamlands&lt;/em&gt;: If you can change your type definitions and try to recompile, you will see immediately where it will break your code.
We have good news: &lt;strong&gt;Now you can do that with your API definition&lt;/strong&gt; - your backend service and your frontend app will is type-protected now üôå&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/dbc0c92051f7c74f52512af8b90712bf/006-hulk.gif&quot; alt=&quot;hulk breaks thingz&quot;&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Build a business layer with a Repository]]></title><description><![CDATA[Disclaimer If you are using a repository, use the repository all the time. - Anonymous As callbacks, authorization and data manipulation‚Ä¶]]></description><link>https://furystack.github.io/005-getting-started-with-repository/</link><guid isPermaLink="false">https://furystack.github.io/005-getting-started-with-repository/</guid><pubDate>Wed, 23 Jun 2021 10:58:20 GMT</pubDate><content:encoded>&lt;h3&gt;Disclaimer&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;If you are using a repository, use the repository all the time. - Anonymous&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As callbacks, authorization and data manipulation works through the Repository layer, you should always use Repository if you have dependant business logic through it.&lt;/p&gt;
&lt;h3&gt;Simplifying a complex idea&lt;/h3&gt;
&lt;p&gt;Let‚Äôs say you have an entity type. You have to be notified each and every time somebody creates a new instance.
You also have to take care about that new entities should have some validation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myInjector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupStores&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; sm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InMemoryStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; model&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MyEntity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; primaryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupRepository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;repo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    repo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createDataSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MyEntity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function-variable function&quot;&gt;authorizeAdd&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; entity &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; entity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            isAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          isAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          message&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Failed to create entity. The value length should be greater than 2 but was &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;
            entity&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;length
          &lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;. Entity: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dataSet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; myInjector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDataSetFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MyEntity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

dataSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onEntityAdded&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; entity &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Hey, a new entity has been added&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; entity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

dataSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;myInjector&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Will fail&lt;/span&gt;
dataSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;myInjector&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;asd&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Will pass and will be logged to the console&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Event subscriptions&lt;/h3&gt;
&lt;p&gt;You can subscribe to the following events in your Repository:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;onEntityAdded&lt;/code&gt; will notify you when a new entity has been created&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;onEntityUpdated&lt;/code&gt; will fire on updates&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;onEntityRemoved&lt;/code&gt; will notify about the deletions&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Authorizing operations&lt;/h3&gt;
&lt;p&gt;You can define authorization / validation during you create the DataSet. These callbacks are the followings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;authorizeAdd&lt;/code&gt; will verify entities before adding / inserting them into the stores&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;authorizeGet&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;authorizeGetEntity&lt;/code&gt; will check that you can get that single entity (also &lt;code class=&quot;language-text&quot;&gt;authorizeGetEntity&lt;/code&gt; won‚Äôt check collections)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;authorizeUpdate&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;authorizeUpdateEntity&lt;/code&gt; will verify before update. &lt;code class=&quot;language-text&quot;&gt;authorizeUpdate&lt;/code&gt; won‚Äôt load the entity from the Store (you won‚Äôt have as a parameter) while &lt;code class=&quot;language-text&quot;&gt;authorizeUpdateEntity&lt;/code&gt; does&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;authorizeRemove&lt;/code&gt; / &lt;code class=&quot;language-text&quot;&gt;authorizeRemoveEntity&lt;/code&gt; will fire before remove. Again, &lt;code class=&quot;language-text&quot;&gt;authorizeRemoveEntity&lt;/code&gt; loads the whole entity from the store before deleting it.&lt;/li&gt;
&lt;li&gt;with &lt;code class=&quot;language-text&quot;&gt;addFilter&lt;/code&gt;, you can append conditions to your filter expressions to narrow collection queries and optimize performance&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Manipulating Data&lt;/h3&gt;
&lt;p&gt;There are also two callbacks that allows you to modify data: with &lt;code class=&quot;language-text&quot;&gt;modifyOnAdd&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;modifyOnUpdate&lt;/code&gt;, you can update data in some fields like e.g. &lt;code class=&quot;language-text&quot;&gt;createdByUser&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;lastModificationDate&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Getting the Context&lt;/h3&gt;
&lt;p&gt;All methods above has an &lt;em&gt;injector&lt;/em&gt; instance on the call parameter - you can use that injector to get service instances from the right caller context. It means that you can e.g.: get the current user in the following way.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;      &lt;span class=&quot;token function-variable function&quot;&gt;authorizeAdd&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; injector &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCurrentUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;roles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;role&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; role &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;CanAddMyEntity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            isAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          isAllowed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          message&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The user doesn&apos;t have the role &apos;CanAddMyEntity&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Let's store some freaking data üì¶]]></title><description><![CDATA[About Physical stores In FuryStack, the preferred mode of accessing data is via physical stores. A physical store is a bare minimum‚Ä¶]]></description><link>https://furystack.github.io/004-getting-started-with-data-stores/</link><guid isPermaLink="false">https://furystack.github.io/004-getting-started-with-data-stores/</guid><pubDate>Wed, 23 Jun 2021 09:58:20 GMT</pubDate><content:encoded>&lt;h3&gt;About Physical stores&lt;/h3&gt;
&lt;p&gt;In FuryStack, the preferred mode of accessing data is via physical stores. A &lt;a href=&quot;https://github.com/furystack/furystack/blob/develop/packages/core/src/models/physical-store.ts&quot;&gt;physical store&lt;/a&gt; is a bare minimum interface that a store should do. A store is always bound to a collection with a specified type of entities. It can only do the basic CRUD operations (create, get by Id, filter, delete, count). These stores should &lt;strong&gt;not have a concept about relations&lt;/strong&gt;, indexes and other storage-specific stuff. Data stores &lt;strong&gt;doesn‚Äôt care about permission&lt;/strong&gt;, role or session checking.&lt;/p&gt;
&lt;h3&gt;Store setup&lt;/h3&gt;
&lt;p&gt;The setup is quite straightforward - create your entity class (the class itself will be used as a primary key and the fields for type checking) you can use the extension method called &lt;code class=&quot;language-text&quot;&gt;.setupStores()&lt;/code&gt; on the Injector:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myInjector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupStores&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  sm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InMemoryStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; model&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MyEntity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; primaryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Basic usage&lt;/h3&gt;
&lt;p&gt;You can retrieve your store from any injector with &lt;code class=&quot;language-text&quot;&gt;myInjector.getInstance(StoreManager).getStoreFor(MyEntity)&lt;/code&gt;. You will receive a PhysicalStore instance and you can do all the basic operations mentioned above.&lt;/p&gt;
&lt;h3&gt;What type of store(s) should you choose?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;InMemoryStore&lt;/strong&gt; is the simplest implementation and a part of the Core package. Data won‚Äôt be persisted but no hassle with additional dependencies. Can be used for POCs or for e.g. storing user sessions or in a demo / experimental enviromnent&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;filesystem-store&lt;/strong&gt; is another simple implementation, it saves (and reloads on change) your data to files, however it‚Äôs recommended to use only in development / experimental environments. Lives in a &lt;code class=&quot;language-text&quot;&gt;@furystack/filesystem-store&lt;/code&gt; package.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sequelize-store&lt;/strong&gt; is built on the top of the Sequelize package and you can create stores with all of it‚Äôs supported DBs (MySQL / Postgres / SQLite, etc‚Ä¶). Recommended if you want to work with any supported SQL-based DB.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mongodb-store&lt;/strong&gt; provides a store implementation for the famous document store. Simple yet powerful usage.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;redis-store&lt;/strong&gt; allows you to connect to a redis service. Useful is you want e.g. storing user sessions and keep them in sync between multiple web nodes. Altough searching is not supported‚Ä¶&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[DI / IOC with @furystack/inject üíâ]]></title><description><![CDATA[Injectable services An injectable service is basically a class, decorated with the  decorator. If you decorate a class, its injectable‚Ä¶]]></description><link>https://furystack.github.io/003-getting-started-with-inject/</link><guid isPermaLink="false">https://furystack.github.io/003-getting-started-with-inject/</guid><pubDate>Wed, 23 Jun 2021 08:58:20 GMT</pubDate><content:encoded>&lt;h2&gt;Injectable services&lt;/h2&gt;
&lt;p&gt;An &lt;em&gt;injectable service&lt;/em&gt; is basically a class, decorated with the &lt;code class=&quot;language-text&quot;&gt;@Injectable()&lt;/code&gt; decorator. If you decorate a class, its injectable options (e.g. lifetime) will be stored and the injector will be able to instantiate a new instance any time. You can also decorate properties with the &lt;code class=&quot;language-text&quot;&gt;@Injected(Type)&lt;/code&gt; decorator to inject them after instantiating the object. Take a look at the following example and you‚Äôll get the idea:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; injector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Injector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injected&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service2&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service2

  &lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injected&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; service2&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Service3
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token decorator&quot;&gt;&lt;span class=&quot;token at operator&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Service3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Service1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All of the 3 classes are decorated as an injectable service. If you request an instance of ‚ÄòService1‚Äô, the framework will also provide an instance of the two dependencies as well.&lt;/p&gt;
&lt;h2&gt;Injector&lt;/h2&gt;
&lt;p&gt;An &lt;code class=&quot;language-text&quot;&gt;Injector&lt;/code&gt; is basically an &lt;em&gt;extendable container&lt;/em&gt; that instantiates services with dependencies and handles their lifecycles. The most used and most important method is the &lt;code class=&quot;language-text&quot;&gt;injector.getInstance(MyServiceClass)&lt;/code&gt; that returns with an instance from a requested service. Injectors are smart enough to handle lifecycles (e.g. ‚Äúsingleton‚Äù services will be constructed once per injector).&lt;/p&gt;
&lt;p&gt;You can create multiple injectors in your project, they can act as multiple separated ‚Äúglobal‚Äù containers.&lt;/p&gt;
&lt;p&gt;You can also organize injectos in a tree structure in the following way:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; childInjector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; injector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; owner&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;myCustomContext&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Creating &lt;em&gt;child injectors&lt;/em&gt; can be useful if you want to store contextual data (e.g. a per-http-request context that should be initialized once)&lt;/p&gt;
&lt;h2&gt;Lifecycles&lt;/h2&gt;
&lt;p&gt;The package defines four types of lifecycle:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transient&lt;/strong&gt; injectables are not cached - if you request an instance, you will get a new one every time.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scoped&lt;/strong&gt; injectables are cached, but only on the current level. If a service has been created in a current injector, the existing instance will be returned.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Singleton&lt;/strong&gt; injectables are hoisted to the root injector. If you request a singleton, the injector will check create the instance in it‚Äôs highest parent - and also returns it from there, if already exists.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Explicit&lt;/strong&gt; values are not really injectables - you can call &lt;code class=&quot;language-text&quot;&gt;injector.setExplicitInstance(myServiceInstance)&lt;/code&gt; to set up an instance manually. Just like scoped services, explicit instances will be returned from the current scope only.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;del&gt;Extension methods&lt;/del&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;/008-byebye-extension-methods/&quot;&gt;(We have already said goodbye to extension methods)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A simple injector can be easily extended by 3rd party packages with extension methods, just like the FuryStack packages. These extension methods usually provides a &lt;em&gt;shortcut&lt;/em&gt; of an instance or sets up a preconfigured explicit instance of a service. You can build clean and nice fluent API-s in that way - you can get the idea from one of the &lt;a href=&quot;https://github.com/furystack/furystack/blob/develop/packages/rest-service/src/injector-extensions.ts&quot;&gt;FuryStack Injector Extensions&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You find more inject-related articles &lt;a href=&quot;/tags/inject&quot;&gt;here&lt;/a&gt; or check out the package at NPM&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/@furystack/inject&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/v/@furystack/inject.svg?maxAge=3600&quot; alt=&quot;npm&quot;&gt;&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Getting started with the Boilerplate üèÅ]]></title><description><![CDATA[Why can it be good for you? If you want to try out the framework without digging deep all of its how-and-whys, you can simply clone the repo‚Ä¶]]></description><link>https://furystack.github.io/002-getting-started-with-a-boilerplate/</link><guid isPermaLink="false">https://furystack.github.io/002-getting-started-with-a-boilerplate/</guid><pubDate>Wed, 23 Jun 2021 08:48:20 GMT</pubDate><content:encoded>&lt;h2&gt;Why can it be good for you?&lt;/h2&gt;
&lt;p&gt;If you want to try out the framework without digging deep all of its how-and-whys, you can simply clone the repo and start hacking in no time.&lt;/p&gt;
&lt;h2&gt;Where can I found it?&lt;/h2&gt;
&lt;p&gt;No suprise, you can find it on a public &lt;a href=&quot;https://github.com/furystack/boilerplate&quot;&gt;Github repo&lt;/a&gt; üòâ&lt;/p&gt;
&lt;h2&gt;The Workspaces&lt;/h2&gt;
&lt;p&gt;The Boilerplate is basically a monorepo built with &lt;a href=&quot;https://classic.yarnpkg.com/blog/2017/08/02/introducing-workspaces/&quot;&gt;Yarn Workspaces&lt;/a&gt; and it includes 3 workspace by default: common, frontend and service.&lt;/p&gt;
&lt;h3&gt;Common&lt;/h3&gt;
&lt;p&gt;You can share models, interfaces and logic between your frontend and the backend.
In the Boilerplate, there is a User and Session model and a REST API definition for login / logout.&lt;/p&gt;
&lt;h3&gt;Frontend&lt;/h3&gt;
&lt;p&gt;A Single Page App, based on &lt;a href=&quot;https://github.com/furystack/furystack/tree/develop/packages/shades&quot;&gt;Shades&lt;/a&gt;. It contains a basic layout with header and body, a basic service for login / logout management and login / logout functionality, some placeholder pages and a basic routing. The frontend is bundled with Webpack. The service URL is passed as an environment variable called &lt;code class=&quot;language-text&quot;&gt;SERVICE_URL&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Service&lt;/h3&gt;
&lt;p&gt;The backend service, based entirely on FuryStack. It contains a filesystem-based store for users and an in-memory-store for sessions. It has implemented the example API (with login / logout) and has some other example implementations.&lt;/p&gt;
&lt;h2&gt;Getting started&lt;/h2&gt;
&lt;p&gt;If you want to start a project based on the Boilerplate, the preferred flow should be something like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a new Repo, using the boilerplate as a template&lt;/li&gt;
&lt;li&gt;Clone it&lt;/li&gt;
&lt;li&gt;Install the dependencies&lt;/li&gt;
&lt;li&gt;Build with &lt;code class=&quot;language-text&quot;&gt;yarn build&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start the frontend and the backend with &lt;code class=&quot;language-text&quot;&gt;yarn start&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Open up the default link: &lt;a href=&quot;http://localhost:8080/&quot;&gt;http://localhost:8080/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Other goodies&lt;/h2&gt;
&lt;h3&gt;Static code analysis&lt;/h3&gt;
&lt;p&gt;The project contains &lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;prettier&lt;/code&gt; to maintain code quality and formatting.&lt;/p&gt;
&lt;h3&gt;Seed&lt;/h3&gt;
&lt;p&gt;It is a good practice to seed your db with basic data - there is a script for creating the test user, to run it, type &lt;code class=&quot;language-text&quot;&gt;yarn seed&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Unit tests&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://jestjs.io/&quot;&gt;Jest&lt;/a&gt; has been also set up - to run, type &lt;code class=&quot;language-text&quot;&gt;yarn test:unit&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;End-to-end testing&lt;/h3&gt;
&lt;p&gt;The boilerplate also includes end-to-end testing with &lt;a href=&quot;https://www.cypress.io/&quot;&gt;Cypress&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;CI&lt;/h3&gt;
&lt;p&gt;There is an &lt;a href=&quot;https://azure.microsoft.com/en-us/services/devops/pipelines/&quot;&gt;Azure Pipelines&lt;/a&gt; setup included - you can check how this looks like &lt;a href=&quot;https://dev.azure.com/furystack/FuryStack/_build?definitionId=3&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The Pipeline contains the following steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install dependencies&lt;/li&gt;
&lt;li&gt;Run eslint (+prettier)&lt;/li&gt;
&lt;li&gt;Build the project&lt;/li&gt;
&lt;li&gt;Run the Unit tests (and publishes the results)&lt;/li&gt;
&lt;li&gt;Runs the Seed(as it contains data that‚Äôs needed for the e2e tests)&lt;/li&gt;
&lt;li&gt;Start up the frontend, the service and run the Cypress E2E tests&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Welcome to FuryStack, Gatsby üíô]]></title><description><![CDATA[So, down with the old one‚Ä¶ I‚Äôve opened up the old site to update some docs (and dependencies meanwhile‚Ä¶) and I‚Äôve realized that I didn‚Äôt‚Ä¶]]></description><link>https://furystack.github.io/001-welcome/</link><guid isPermaLink="false">https://furystack.github.io/001-welcome/</guid><pubDate>Wed, 23 Jun 2021 08:38:20 GMT</pubDate><content:encoded>&lt;h2&gt;So, down with the old one‚Ä¶&lt;/h2&gt;
&lt;p&gt;I‚Äôve opened up the old site to update some docs (and dependencies meanwhile‚Ä¶) and I‚Äôve realized that I didn‚Äôt touch the site since the last two years. Holy shit üò≠
There was even &lt;code class=&quot;language-text&quot;&gt;tslint&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt; in the project‚Ä¶ So I‚Äôve deicided if I have to touch it, I‚Äôll try to make a more professional approach.&lt;/p&gt;
&lt;h2&gt;Times has changed and so the requirements&lt;/h2&gt;
&lt;p&gt;The new site should be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Easy to maintain. Maybe some .md files in some PR-s, that‚Äôs all. Simple and stupid, with no hassle&lt;/li&gt;
&lt;li&gt;SEO friendly üëâ static. Had some issues in the past with &lt;a href=&quot;https://info340.github.io/client-side-routing.html&quot;&gt;React Router and Github Pages&lt;/a&gt;‚Ä¶&lt;/li&gt;
&lt;li&gt;Should be integrated into CI/CD (that‚Äôs still a ToDo üòä)&lt;/li&gt;
&lt;li&gt;Easy-to-setup locally&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The new candidates&lt;/h2&gt;
&lt;p&gt;So I‚Äôve &lt;del&gt;killed&lt;/del&gt; archived the old one and I have to make a replacement. The old site was a react-based SPA. I could do the same with React or Shades but I still had to struggle with routes and SEO‚Ä¶&lt;/p&gt;
&lt;p&gt;First, I‚Äôve checked &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; - as the default approach for Github Pages it‚Äôs easy to setup and deploy. We‚Äôve used it in one of my previous workplace, it does the job pretty well.
The downside is that I‚Äôm not so familiar with Ruby, &lt;em&gt;gemfiles&lt;/em&gt; and other esotheric things, so the stack is totally out of scope. So the templating syntax, theming and stuffs like these.&lt;/p&gt;
&lt;p&gt;The next candidate is &lt;a href=&quot;https://www.gatsbyjs.com/&quot;&gt;GatsbyJS&lt;/a&gt; - I‚Äôve found a great theme with Typescript support. I‚Äôve updated all deprecated dependencies and it‚Äôs still working. I‚Äôm familiar with the syntax. So far, so good. There are we now.&lt;/p&gt;
&lt;h2&gt;What to expect&lt;/h2&gt;
&lt;p&gt;The plan is to publish announcements like new releases and features, some posts about concepts in FuryStack some techical stuff, development practices and dirty little tricks. But no promises how often will this happen üòâ&lt;/p&gt;
&lt;h2&gt;Coming out next&lt;/h2&gt;
&lt;p&gt;The next step will be setting up the CI/CD and migrating the docs from the old site (or maybe the main monorepo).&lt;/p&gt;</content:encoded></item></channel></rss>