{"componentChunkName":"component---src-templates-post-tsx","path":"/004-getting-started-with-data-stores/","result":{"data":{"logo":null,"markdownRemark":{"html":"<h3>About Physical stores</h3>\n<p>In FuryStack, the preferred mode of accessing data is via physical stores. A <a href=\"https://github.com/furystack/furystack/blob/develop/packages/core/src/models/physical-store.ts\">physical store</a> is a bare minimum interface that a store should do. A store is always bound to a collection with a specified type of entities. It can only do the basic CRUD operations (create, get by Id, filter, delete, count). These stores should <strong>not have a concept about relations</strong>, indexes and other storage-specific stuff. Data stores <strong>doesn’t care about permission</strong>, role or session checking.</p>\n<h3>Store setup</h3>\n<p>The setup is quite straightforward - create your entity class (the class itself will be used as a primary key and the fields for type checking) you can use the extension method called <code class=\"language-text\">.setupStores()</code> on the Injector:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyEntity</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">public</span> key<span class=\"token operator\">!</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\r\n  <span class=\"token keyword\">public</span> value<span class=\"token operator\">!</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> myInjector <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Injector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupStores</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>sm<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n  sm<span class=\"token punctuation\">.</span><span class=\"token function\">addStore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">InMemoryStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> model<span class=\"token operator\">:</span> MyEntity<span class=\"token punctuation\">,</span> primaryKey<span class=\"token operator\">:</span> <span class=\"token string\">'key'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Basic usage</h3>\n<p>You can retrieve your store from any injector with <code class=\"language-text\">myInjector.getInstance(StoreManager).getStoreFor(MyEntity)</code>. You will receive a PhysicalStore instance and you can do all the basic operations mentioned above.</p>\n<h3>What type of store(s) should you choose?</h3>\n<ul>\n<li><strong>InMemoryStore</strong> is the simplest implementation and a part of the Core package. Data won’t be persisted but no hassle with additional dependencies. Can be used for POCs or for e.g. storing user sessions or in a demo / experimental enviromnent</li>\n<li><strong>filesystem-store</strong> is another simple implementation, it saves (and reloads on change) your data to files, however it’s recommended to use only in development / experimental environments. Lives in a <code class=\"language-text\">@furystack/filesystem-store</code> package.</li>\n<li><strong>sequelize-store</strong> is built on the top of the Sequelize package and you can create stores with all of it’s supported DBs (MySQL / Postgres / SQLite, etc…). Recommended if you want to work with any supported SQL-based DB.</li>\n<li><strong>mongodb-store</strong> provides a store implementation for the famous document store. Simple yet powerful usage.</li>\n<li><strong>redis-store</strong> allows you to connect to a redis service. Useful is you want e.g. storing user sessions and keep them in sync between multiple web nodes. Altough searching is not supported…</li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"About Physical stores"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In FuryStack, the preferred mode of accessing data is via physical stores. A "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/furystack/furystack/blob/develop/packages/core/src/models/physical-store.ts"},"children":[{"type":"text","value":"physical store"}]},{"type":"text","value":" is a bare minimum interface that a store should do. A store is always bound to a collection with a specified type of entities. It can only do the basic CRUD operations (create, get by Id, filter, delete, count). These stores should "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not have a concept about relations"}]},{"type":"text","value":", indexes and other storage-specific stuff. Data stores "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"doesn’t care about permission"}]},{"type":"text","value":", role or session checking."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Store setup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The setup is quite straightforward - create your entity class (the class itself will be used as a primary key and the fields for type checking) you can use the extension method called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".setupStores()"}]},{"type":"text","value":" on the Injector:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"MyEntity"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" key"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"number"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" value"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" myInjector "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Injector"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setupStores"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"sm"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":"\n  sm"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addStore"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"InMemoryStore"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" model"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MyEntity"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" primaryKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'key'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Basic usage"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can retrieve your store from any injector with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"myInjector.getInstance(StoreManager).getStoreFor(MyEntity)"}]},{"type":"text","value":". You will receive a PhysicalStore instance and you can do all the basic operations mentioned above."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What type of store(s) should you choose?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"InMemoryStore"}]},{"type":"text","value":" is the simplest implementation and a part of the Core package. Data won’t be persisted but no hassle with additional dependencies. Can be used for POCs or for e.g. storing user sessions or in a demo / experimental enviromnent"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"filesystem-store"}]},{"type":"text","value":" is another simple implementation, it saves (and reloads on change) your data to files, however it’s recommended to use only in development / experimental environments. Lives in a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@furystack/filesystem-store"}]},{"type":"text","value":" package."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"sequelize-store"}]},{"type":"text","value":" is built on the top of the Sequelize package and you can create stores with all of it’s supported DBs (MySQL / Postgres / SQLite, etc…). Recommended if you want to work with any supported SQL-based DB."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"mongodb-store"}]},{"type":"text","value":" provides a store implementation for the famous document store. Simple yet powerful usage."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"redis-store"}]},{"type":"text","value":" allows you to connect to a redis service. Useful is you want e.g. storing user sessions and keep them in sync between multiple web nodes. Altough searching is not supported…"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"About Physical stores In FuryStack, the preferred mode of accessing data is via physical stores. A physical store is a bare minimum…","fields":{"readingTime":{"text":"2 min read"}},"frontmatter":{"title":"Let's store some freaking data 📦","userDate":"23 June 2021","date":"2021-06-23T09:58:20.257Z","tags":["Getting Started","core","filesystem-store","sequelize-store","mongodb-store","redis-store"],"excerpt":"Where should you store your data? SQL, NOSQL, InMemory or on a sticky note on the back of your pillow? Doesn't matter if you have a PhysicalStore implementation...","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAYHCP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAWWF3vN4oFRD/8QAGRAAAwEBAQAAAAAAAAAAAAAAAwQFAgYB/9oACAEBAAEFAi1KjhoXSSsCbbga2gfqfFpKdWgZHmamQ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EACQQAAICAQMEAwEBAAAAAAAAAAEDAgQRBQYSExQhIwAiMyRB/9oACAEBAAY/ApdzVlpj41lyim3ByL8gz3hebtBVmYMcgrUxrFnEYtJzIbu0/VpXK7Z7t3GGqMGfk1NEw5TP9dZq8lfKAjLP2McgfFiq6a0qTBUcV+95cM/bubPB7PBAJYOWRn4x8tQsWJ1eE3pr3U2raBI44+qq204YJkHLgmMoQ5YJ8y3hZhXt3yd+65Ftrom5c4sqUYCNnqP0+fX9BP715rxj7gxWeMtNvNlGchJtrY6rjpnwcyex9mUhggL9nhYj4/0//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/IZJHkjBLCreh4Jj8/OXBacJC4GNKjTU81KA6VLbhuI+oke/4iRgWHsTuFHUIhu9hX5gNuKlBPwO5/9oADAMBAAIAAwAAABAQz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABYQAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAQABPxAC1ZFOk191+y96BlUVkyTuUvpzGktLVWFuHAL5M7q5rrHYTDggG3jPV+Eo531lpNKuR7Nf/9k=","aspectRatio":1.2792297111416782,"src":"/static/6fcbfc02f4d3e2157efc566838844d14/68386/004-getting-started-with-data-stores-cover.jpg","srcSet":"/static/6fcbfc02f4d3e2157efc566838844d14/0079a/004-getting-started-with-data-stores-cover.jpg 930w,\n/static/6fcbfc02f4d3e2157efc566838844d14/68386/004-getting-started-with-data-stores-cover.jpg 1280w","sizes":"(max-width: 1280px) 100vw, 1280px"}}},"author":[{"id":"gallayl","bio":"Lead developer, architect and local demigod @FuryStack","avatar":{"children":[{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAcICgYJ/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABXZzxe8xMzqxkmv4EKA//xAAbEAACAwEBAQAAAAAAAAAAAAAEBQIDBgcBFP/aAAgBAQABBQJ31G4C/BZ08NcGAymIAwG9ZcqlmAcalNj8VdsoWb1yQpxq7rXRFIv/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAkEAACAgEEAgEFAAAAAAAAAAACAwEEBRESEyEABjEUJDNCUf/aAAgBAQAGPwLI18LbqjdzZY0KV1qgJWFrMxcfVW2AwtlqwMp+1g9K4NMOYSAJFlXJu96zWZOblO/bTkjxl9FuvZcsDUhgLhlZbibrJ1mcXXHCxnxRK9vzmIVy5AQpYzDY+3XCAyt4JInvpWWk0yEpLccbR2DAwMRMoK9C3rmstW1vYdB1E9x3ugds6xpPnrF51eknMhhq+HB3LvayueYt2QBc/jkUv5eQYGWrMYFkxMLKSGC02ZHMhprp2OYv6+AzSC2/qfYkPxIFETE7SjqdJif5MTpPnq3rmOUmrVtWpyjLYnbPJiykLCq10XG2mTWqKbesP464KNry5HNYXyNOn7Re4BJhxFgKtxm5hyTJl9pDnFvPVhbmTqZEXyU+f//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/IZFe2mLrGVi6qM/uvtAryzYauggG4Zonls2OlRTeSBInRCA7LlEgdWpWI3jIkJwEgoCCXiPuqxoElb1AFh408EZOOj/ZimTpcBcvZO02rGr3D//aAAwDAQACAAMAAAAQcAgA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITEQ/9oACAEBAAE/EFWlwtxEnnyGQr1KTB9M3Kvmjq9dIgp4yCig6pe5uS16cHahnfSU9ZkE+Ygv2kgg6RA7mhyFjWcWpFAwjBliG3rGG6pZpBypylkP21XgP//Z","aspectRatio":1,"src":"/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg","srcSet":"/static/d7724f53280864f259a1cb93c2bd9d56/b3d27/gallayl.jpg 40w,\n/static/d7724f53280864f259a1cb93c2bd9d56/5a735/gallayl.jpg 80w,\n/static/d7724f53280864f259a1cb93c2bd9d56/6e81a/gallayl.jpg 120w,\n/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg 400w","sizes":"(max-width: 400px) 100vw, 400px"}}]}}]}},"relatedPosts":{"totalCount":5,"edges":[{"node":{"id":"1366c6fe-b450-54f9-97bf-1906c129a56c","excerpt":"The problem 🤷‍♂️ The old-fashioned approach is to decouple nearly everything, but (as a fullstack dev) when speaking about the relation…","frontmatter":{"title":"REST in peace","date":"2021-06-23T12:58:20.257Z"},"fields":{"readingTime":{"text":"6 min read"},"slug":"/006-getting-started-with-rest/"}}},{"node":{"id":"1ab41dd0-2581-5e39-8809-08cf3b751e1c","excerpt":"Disclaimer If you are using a repository, use the repository all the time. - Anonymous As callbacks, authorization and data manipulation…","frontmatter":{"title":"Build a business layer with a Repository","date":"2021-06-23T10:58:20.257Z"},"fields":{"readingTime":{"text":"3 min read"},"slug":"/005-getting-started-with-repository/"}}},{"node":{"id":"3e4f5081-4d48-5288-890f-2915d83c9915","excerpt":"About Physical stores In FuryStack, the preferred mode of accessing data is via physical stores. A physical store is a bare minimum…","frontmatter":{"title":"Let's store some freaking data 📦","date":"2021-06-23T09:58:20.257Z"},"fields":{"readingTime":{"text":"2 min read"},"slug":"/004-getting-started-with-data-stores/"}}},{"node":{"id":"cf58ec06-30e7-51f4-a586-846c643e725a","excerpt":"Injectable services An injectable service is basically a class, decorated with the  decorator. If you decorate a class, its injectable…","frontmatter":{"title":"DI / IOC with @furystack/inject 💉","date":"2021-06-23T08:58:20.257Z"},"fields":{"readingTime":{"text":"3 min read"},"slug":"/003-getting-started-with-inject/"}}},{"node":{"id":"b38e5681-e744-5cff-92e4-5274d03d38eb","excerpt":"Why can it be good for you? If you want to try out the framework without digging deep all of its how-and-whys, you can simply clone the repo…","frontmatter":{"title":"Getting started with the Boilerplate 🏁","date":"2021-06-23T08:48:20.257Z"},"fields":{"readingTime":{"text":"3 min read"},"slug":"/002-getting-started-with-a-boilerplate/"}}}]}},"pageContext":{"slug":"/004-getting-started-with-data-stores/","prev":{"excerpt":"Injectable services An injectable service is basically a class, decorated with the  decorator. If you decorate a class, its injectable…","frontmatter":{"title":"DI / IOC with @furystack/inject 💉","tags":["Getting Started","inject"],"date":"2021-06-23T08:58:20.257Z","draft":false,"excerpt":"Dependency injection and Inversion of control is a common practice that tries to protect you from insanity that would happen when you realize that you can't refactor and test a giant global static app structure. @furystack/inject is a simple but powerful tool that you can use in NodeJs and in the browser.","image":{"childImageSharp":{"fluid":{"aspectRatio":1.4988290398126465,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAYHAv/EABcBAAMBAAAAAAAAAAAAAAAAAAIEBQj/2gAMAwEAAhADEAAAAZRX4Ez5rVyKxPH/xAAaEAACAwEBAAAAAAAAAAAAAAACBAEDBQAS/9oACAEBAAEFAknsrJXZmOtB9qzOZLytoGUXPMwf/8QAHhEAAgEDBQAAAAAAAAAAAAAAAhEBABJBAzFxkfD/2gAIAQMBAT8Bs0FDIol4G5rmRXtqizJH3X//xAAgEQACAgIBBQEAAAAAAAAAAAACAwERBBIFAAYUIUFx/9oACAECAQE/AeWwe0WJR4g8niZ28E8n1nyxcAQ3Jk5Qwxp0Wweo1MZUIkNqRjwtdLuNRqZNkfI+XNflzXX/xAAkEAADAAEDBAEFAAAAAAAAAAABAgMEBRESABMhQTEUFSJRYf/aAAgBAQAGPwKNDp84Yf1uNp5ypyEMWD5uM+Vg5eSSEXG07N7dpzzGUrvF68GkOmx7AwzVCtXDq4SysQRxRG7fOBIJnaW6VTjWRM6IS1UtjwG/Ht1yFV14/tSxI/m/rz8danj5M458NTx9PbUIZivaOQNNq1dN2DU7ka6fuwxLTqDMUopDTo0zW1lGdS0xfvaofueTMq8wFnkZgo6rxcJ48dpRLbj1+FDMEA8ZiaKPXwJ7b+PQHobeOv/EABoQAQEBAQEBAQAAAAAAAAAAAAERIQBBMWH/2gAIAQEAAT8htc+wO3Ak+NVYC9H0pMggcz4PkKr0kdk+FsDQ9Sah7WXG5U7dMKYNw+/AkfWMFKPnPnjfsDADz//aAAwDAQACAAMAAAAQN9//xAAZEQEBAAMBAAAAAAAAAAAAAAABESExQVH/2gAIAQMBAT8QbDpWkkcIujXUQZUAKIUEHEJGYPXbn3//xAAXEQEBAQEAAAAAAAAAAAAAAAABIQAR/9oACAECAQE/EHyWBoLqvq8wGYRXJFRUUEmKAoFm/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAITH/2gAIAQEAAT8QBOSB/wB3dM5C4w6aPOtLQxtElBArswuuqvQLWfqKIjc8tiwGev8Agi2NiyiDNdLj69EkAZuCL//Z","sizes":"(max-width: 640px) 100vw, 640px","src":"/static/de23ed9d5832e54b97c1b428c779e693/3bf7d/003-getting-started-with-inject-cover.jpg","srcSet":"/static/de23ed9d5832e54b97c1b428c779e693/3bf7d/003-getting-started-with-inject-cover.jpg 640w"}}},"author":[{"id":"gallayl","bio":"Lead developer, architect and local demigod @FuryStack","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAcICgYJ/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABXZzxe8xMzqxkmv4EKA//xAAbEAACAwEBAQAAAAAAAAAAAAAEBQIDBgcBFP/aAAgBAQABBQJ31G4C/BZ08NcGAymIAwG9ZcqlmAcalNj8VdsoWb1yQpxq7rXRFIv/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAkEAACAgEEAgEFAAAAAAAAAAACAwEEBRESEyEABjEUJDNCUf/aAAgBAQAGPwLI18LbqjdzZY0KV1qgJWFrMxcfVW2AwtlqwMp+1g9K4NMOYSAJFlXJu96zWZOblO/bTkjxl9FuvZcsDUhgLhlZbibrJ1mcXXHCxnxRK9vzmIVy5AQpYzDY+3XCAyt4JInvpWWk0yEpLccbR2DAwMRMoK9C3rmstW1vYdB1E9x3ugds6xpPnrF51eknMhhq+HB3LvayueYt2QBc/jkUv5eQYGWrMYFkxMLKSGC02ZHMhprp2OYv6+AzSC2/qfYkPxIFETE7SjqdJif5MTpPnq3rmOUmrVtWpyjLYnbPJiykLCq10XG2mTWqKbesP464KNry5HNYXyNOn7Re4BJhxFgKtxm5hyTJl9pDnFvPVhbmTqZEXyU+f//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/IZFe2mLrGVi6qM/uvtAryzYauggG4Zonls2OlRTeSBInRCA7LlEgdWpWI3jIkJwEgoCCXiPuqxoElb1AFh408EZOOj/ZimTpcBcvZO02rGr3D//aAAwDAQACAAMAAAAQcAgA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITEQ/9oACAEBAAE/EFWlwtxEnnyGQr1KTB9M3Kvmjq9dIgp4yCig6pe5uS16cHahnfSU9ZkE+Ygv2kgg6RA7mhyFjWcWpFAwjBliG3rGG6pZpBypylkP21XgP//Z","sizes":"(max-width: 400px) 100vw, 400px","src":"/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg","srcSet":"/static/d7724f53280864f259a1cb93c2bd9d56/fd013/gallayl.jpg 200w,\n/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg 400w"}}]}}]},"fields":{"readingTime":{"text":"3 min read"},"layout":"post","slug":"/003-getting-started-with-inject/"}},"next":{"excerpt":"Disclaimer If you are using a repository, use the repository all the time. - Anonymous As callbacks, authorization and data manipulation…","frontmatter":{"title":"Build a business layer with a Repository","tags":["Getting Started","repository"],"date":"2021-06-23T10:58:20.257Z","draft":false,"excerpt":"A Repository is the next layer above the data stores. When setting up a repository, you can create DataSets that can rely on a previously configured physical store. The difference is that while PhysicalStore focuses on the data, DataSet focuses on business logic. You can authorize, check permissions, subscribe to entity changes, etc...","image":{"childImageSharp":{"fluid":{"aspectRatio":1.7850287907869482,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAYHBAj/xAAXAQADAQAAAAAAAAAAAAAAAAACAwUG/9oADAMBAAIQAxAAAAHglavWXAXpgOgDf//EABkQAAMBAQEAAAAAAAAAAAAAAAEDBAIFAP/aAAgBAQABBQK7FFChX1ypHTu1MefGrzdFgte+Oj//xAAfEQEAAgEDBQAAAAAAAAAAAAABAhESACFRAyIxYmP/2gAIAQMBAT8BxlAm5sccRI25WB67bm1eL0TiAM+pdF9keD6HGv/EACERAAICAAUFAAAAAAAAAAAAAAECESEDEiMxMgAEIkFR/9oACAECAQE/AR3Svk0lcMzEFwAyQzbc5MIbzC4+mOUsuDhZWJYedwTInRa43s376//EACQQAAMAAQMEAgMBAAAAAAAAAAECAxEEEhMABRQhMUEiRGHx/9oACAEBAAY/Ap2AqtGpWj0bKTDlzOmxnoGVnwXbi5Rtb3j6dq01FkwizFE5dklVjLiJQ0X5O0jBYbSfrrTNSviZgnGFFYeRP3jUtlTzNQ7gbA7SECLgTAGhZIgNTV61HO52LKO36OgBLMc/najf0uc9do3ftajtvkYAQ1301aOHKYOGUAEfHrp9PpbWhCbOElKroijkf4Ab/BgD0AOv/8QAGxABAAMBAAMAAAAAAAAAAAAAAREhMQBBUWH/2gAIAQEAAT8hhgVoEITgPsZ4VWXQY5pmCjeSKTSLYT6Oo8CSAXmaPZC1uqpqKB6RCUBpGRAqb5hKAIPAxBh6YRH/2gAMAwEAAgADAAAAEKff/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhMQD/2gAIAQMBAT8Qcw1QCMukCRQGQoVzMZkKVjwuGGPPf//EABgRAQEBAQEAAAAAAAAAAAAAAAERIQBB/9oACAECAQE/EBm36mM+qItILRORYMBUDIMMMFqIk//EABcQAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQEAAT8QD8Ipb3ZaUnhDCLeXR4quv21lMBNKJCkAQ+zGT36QM4aHsgGFCbB9GF9s0WWQLqrkmCgbccb/AP/Z","sizes":"(max-width: 1280px) 100vw, 1280px","src":"/static/ced8c70f9ce4a51f7edf0501895e4440/68386/005-getting-started-with-repository-cover.jpg","srcSet":"/static/ced8c70f9ce4a51f7edf0501895e4440/0079a/005-getting-started-with-repository-cover.jpg 930w,\n/static/ced8c70f9ce4a51f7edf0501895e4440/68386/005-getting-started-with-repository-cover.jpg 1280w"}}},"author":[{"id":"gallayl","bio":"Lead developer, architect and local demigod @FuryStack","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAcICgYJ/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABXZzxe8xMzqxkmv4EKA//xAAbEAACAwEBAQAAAAAAAAAAAAAEBQIDBgcBFP/aAAgBAQABBQJ31G4C/BZ08NcGAymIAwG9ZcqlmAcalNj8VdsoWb1yQpxq7rXRFIv/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAkEAACAgEEAgEFAAAAAAAAAAACAwEEBRESEyEABjEUJDNCUf/aAAgBAQAGPwLI18LbqjdzZY0KV1qgJWFrMxcfVW2AwtlqwMp+1g9K4NMOYSAJFlXJu96zWZOblO/bTkjxl9FuvZcsDUhgLhlZbibrJ1mcXXHCxnxRK9vzmIVy5AQpYzDY+3XCAyt4JInvpWWk0yEpLccbR2DAwMRMoK9C3rmstW1vYdB1E9x3ugds6xpPnrF51eknMhhq+HB3LvayueYt2QBc/jkUv5eQYGWrMYFkxMLKSGC02ZHMhprp2OYv6+AzSC2/qfYkPxIFETE7SjqdJif5MTpPnq3rmOUmrVtWpyjLYnbPJiykLCq10XG2mTWqKbesP464KNry5HNYXyNOn7Re4BJhxFgKtxm5hyTJl9pDnFvPVhbmTqZEXyU+f//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/IZFe2mLrGVi6qM/uvtAryzYauggG4Zonls2OlRTeSBInRCA7LlEgdWpWI3jIkJwEgoCCXiPuqxoElb1AFh408EZOOj/ZimTpcBcvZO02rGr3D//aAAwDAQACAAMAAAAQcAgA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITEQ/9oACAEBAAE/EFWlwtxEnnyGQr1KTB9M3Kvmjq9dIgp4yCig6pe5uS16cHahnfSU9ZkE+Ygv2kgg6RA7mhyFjWcWpFAwjBliG3rGG6pZpBypylkP21XgP//Z","sizes":"(max-width: 400px) 100vw, 400px","src":"/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg","srcSet":"/static/d7724f53280864f259a1cb93c2bd9d56/fd013/gallayl.jpg 200w,\n/static/d7724f53280864f259a1cb93c2bd9d56/25252/gallayl.jpg 400w"}}]}}]},"fields":{"readingTime":{"text":"3 min read"},"layout":"post","slug":"/005-getting-started-with-repository/"}},"primaryTag":"Getting Started"}},"staticQueryHashes":["138661842","4089446364"]}